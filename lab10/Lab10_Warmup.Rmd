---
title: "Lab10WarmUp"
output: 
  html_document: 
    keep_md: yes
date: "2024-02-15"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

##Load the libraries 
```{r}
library(tidyverse)
library(naniar)
library(janitor)
```


##Load the data 
```{r}
malaria <- read_csv("data/malaria.csv") %>% clean_names()
```
```{r}
head(malaria)
```
The malaraia_rdt_0_4 is is a case and the age range. The obersvations for these variables is the number of cases in this category. 

Issue: The malaria rdt values are not tidy. The columns are observations, so they need to be switched to rows instead. 

```{r}
malaria_long <- malaria %>% 
  pivot_longer(col=starts_with("malaria_rdt"),
               names_to="age_class",
               values_to= "cases",
               values_drop_na=T) %>% 
  select(newid,data_date,location_name,province,district,age_class,cases)
```

Want to tranform the data that begins with the malaria_rdt column names. __)


##Which age had thehighest number of cases 

```{r}
malaria_long %>% 
  filter(data_date=="2020-07-30") %>% 
  group_by(district) %>% #since more than one district is represented in the data 
  summarise(tot_cases=sum(cases,na.rm=T)) %>% 
  arrange(-tot_cases)
```
 the "-" in front of the variable is another way to set this data in descending order. Alt to using the arrange(desc()) function combination. 
